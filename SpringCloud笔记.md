# SpringCloud 笔记

### 微服务概述

#### 1、什么是微服务

微服务最早是由 Martin Fowler 在 2014 年在他的个人博客中提出来的。  博客地址：    `<https://martinfowler.com/articles/microservices.html>`

**是什么：**

> - 就目前而言，对于微服务业界并没有一个统一的、标准的定义（While there is no precise definition of this architectural style）为什么这么说？ 因为其中有一个很重要的原因就是拆分的维度，是按照技术维度去拆还是按照业务逻辑去拆还是按照领域模型去拆。这个仁者见仁智者见智，没有达成统一意见。
> - 但通常而言，微服务架构是一种架构模式，或者说一种架构风格，**它提倡将单一应用程序划分成一组小的服务**，每个服务运行在其独立的自己的进程中，服务之间互相协调，互相配合，为用户提供最终的价值。服务之间采用轻量级的通信机制互相沟通（通常是基于 http 的 RESTful API）。每个服务都围绕着具体业务进行构建，并且能够被独立的部署到生产环境、类生产环境等。另外，应尽量避免统一的、集中式的服务管理机制，对具体的一个服务而言，应根据业务上下文，选择合适的语言、工具对其进行构建，可以有一个非常轻量级的集中式管理来协调这些服务，可以使用不同的语言来编写服务，也可以使用不同的数据存储。

我们从技术的维度去理解就是：

> 微服务化的核心就是将传统的一站式应用，根据业务拆分成一个一个的服务，彻底的去耦合，每一个微服务提供单个业务功能的服务，一个服务做一件事，从技术角度去看就是一种小而独立的处理过程，类似进程的概念，能够自行单独启动或销毁，拥有自己独立的数据库。

#### 2、微服务与微服务架构

**微服务：**

> 强调的是服务的大小，它关注的是某一个点，是具体解决某一个问题的一个服务应用。强调的是一个个的个体，每个个体完成一个具体的任务或功能。
>
> 狭义的看，可以看做 eclipse 里面一个个微服务工程或者 moudle

**微服务架构：**

> 微服务架构是一种架构模式，**它提倡将单一应用程序划分成一组小的服务**，每个服务运行在其独立的自己的进程中，服务之间互相协调，互相配合，为用户提供最终的价值。服务之间采用轻量级的通信机制互相沟通（通常是基于 http 的 RESTful API）。每个服务都围绕着具体业务进行构建，并且能够被独立的部署到生产环境、类生产环境等。另外，应尽量避免统一的、集中式的服务管理机制，对具体的一个服务而言，应根据业务上下文，选择合适的语言、工具对其进行构建

#### 3、微服务优缺点

**优点：**

> 每个服务足够内聚，足够小，代码容易理解，这样就能聚焦一个指定的业务功能或业务需求
>
> 开发简单，开发效率提高，一个服务可能就是专一的只干一件事。
>
> 微服务能够被小团队单独开发，这个小团队可以是2-5个人的开发人员
>
> 微服务是松耦合的，是有功能意义的服务，无论是在开发阶段还是部署阶段都是独立的。
>
> 微服务能够使用不同的语言开发
>
> 易于和第三方集成，微服务允许容易且灵活的方式集成自动部署，通过持续集成工具，如：Jenkins
>
> 微服务只是业务逻辑的代码，不会和 HTML CSS 或其他界面组件混合
>
> 每个微服务都有自己的存储能力，可以有自己的数据库。也可以有统一的数据库。

**缺点：**

> 开发人员要处理分布式系统的复杂性
>
> 多服务运维难度，随着服务的增加，运维的压力也在增大
>
> 系统部署依赖
>
> 数据一致性
>
> 系统集成测试
>
> 性能监控

### SpringCloud 入门

#### 1、SpringCloud 是什么

SpringCloud 基于 SpringBoot 提供了一整套微服务解决方案，包括服务注册于发现、配置中心、全链路监控、服务网关、负载均衡、熔断器等组件，除了基于 NetFlix 的开源组件做高度抽象封装之外，还有一些选型中立的开源组件。

**注：**

> SpringCloud = 分布式微服务架构下的一站式解决方案，是各个微服务架构落地技术的集合体，俗称微服务全家桶。



























